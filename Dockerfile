FROM node:16.13.2

ENV APP_NAME=Piltonet
ENV NODE_ENV=production
ENV NODE_PORT=3000
ENV APP_DOMAIN=https://piltonet.com/
ENV APP_URL=https://piltonet.com/
ENV APP_API_URL=https://api.piltonet.com/
ENV DB_HOST=piltonet-db
ENV DB_PORT=5432
ENV DB_DATABASE=piltonet
ENV DB_USERNAME=postgres
ENV DB_PASSWORD="EAd1qb2AE3pB42qyTeZn0Y2WczWxon37"
ENV JWT_SECRET="fe525935e305cea0c11a79fdf6f9b54ea14f5a7a0d3ad00b44abee6cf526c2fd"
ENV CIPHER_INITVECTOR="ca0a3fbc9899fb5c12f37efae10c5c53"
ENV CIPHER_SECURITY_KEY="f213fa47064c23i3s8153779003af2ca"
ENV DEFAULT_NETWORK=victestnet
ENV SERVICE_ADMIN_PUBLIC_KEY="0x2B27F8c647872BC0f5E4C7cA8e3aEAEe19A28f3A"
ENV SERVICE_ADMIN_PRIVATE_KEY="b455a461f837c30ad065e0f1d26408b8fe5923dd5ce59bdf84e98bce06845fc5"
ENV COINEX_ACCESS_ID="788AD5795FE04A9697C3420529C789D9"
ENV COINEX_SECRET_KEY="B98702A6B449BD4B90609FC9ACF00959502CEF80C8A93ABC"
ENV COINEX_SPOT_BASE_URL=https://api.coinex.com/v1
ENV COINEX_PERPETUAL_BASE_URL=https://api.coinex.com/perpetual/v1

WORKDIR /api

COPY ["package.json", "package-lock.json*", "./"]

RUN npm install --production

COPY . .

CMD [ "node", "api.js" ]
